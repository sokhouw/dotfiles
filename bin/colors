#!/usr/bin/env sh

rgbf() {
    V=$((16+36*${1}+6*${2}+${3}))
    printf '\033[38;5;%sm%03d ' "${V}" "${V}"
}

rgbb() {
    V=$((16+36*${1}+6*${2}+${3}))
    printf '\033[48;5;%sm%03d ' "${V}" "${V}"
}

foreground() {
    printf '\033[38;5;%sm%03d ' "${1}" "${1}"
}

background() {
    printf '\033[48;5;%sm%03d ' "${1}" "${1}"
}

resetattrs() {
    printf '\033[0;m'
}

range() {
    from=${1}
    to=${2}
    if [ "${from}" -lt "${to}" ]; then
        while [ "${from}" -le "${to}" ]; do
            printf '%s ' "${from}"
            from=$((from + 1))
        done
    else
        while [ "${from}" -ge "${to}" ]; do
            printf '%s ' "${from}"
            from=$((from - 1))
        done
    fi
}

## Show 16 foreground and 16 background colors

resetattrs

for C in $(range 0 15); do
   foreground "${C}"
done
echo
for C in $(range 0 15); do
    background "${C}"
done
echo

resetattrs
echo

## RGB-ish foreground colors

for G in $(range 0 5); do
    for B in $(range 0 5); do rgbf 0 "${G}" "${B}"; done
    for B in $(range 5 0); do rgbf 1 "${G}" "${B}"; done
    for B in $(range 0 5); do rgbf 2 "${G}" "${B}"; done
    echo
done
for G in $(range 5 0); do
    for B in $(range 0 5); do rgbf 3 "${G}" "${B}"; done
    for B in $(range 5 0); do rgbf 4 "${G}" "${B}"; done
    for B in $(range 0 5); do rgbf 5 "${G}" "${B}"; done
    echo
done

resetattrs
echo

## RGB-ish background colors

for G in $(range 0 5); do
    for B in $(range 0 5); do rgbb 0 "${G}" "${B}"; done
    for B in $(range 5 0); do rgbb 1 "${G}" "${B}"; done
    for B in $(range 0 5); do rgbb 2 "${G}" "${B}"; done
    echo
done
for G in $(range 5 0); do
    for B in $(range 0 5); do rgbb 3 "${G}" "${B}"; done
    for B in $(range 5 0); do rgbb 4 "${G}" "${B}"; done
    for B in $(range 0 5); do rgbb 5 "${G}" "${B}"; done
    echo
done

resetattrs
echo

## Gray foreground

for C in $(range 232 255); do
    foreground "${C}"
done

resetattrs
echo

## Gray background

for C in $(range 232 255); do
    background "${C}"
done

resetattrs
echo
